{"version":3,"file":"arcgis-common-command.mixin.js","sourceRoot":"","sources":["../../../../../../src/provider/arcgis/command/mixin/arcgis-common-command.mixin.ts"],"names":[],"mappings":";;;AACA,qDAA8H;AAC9H,6CAAiD;AAIjD,SAAgB,wBAAwB,CAA6C,IAAW;IAC5F,OAAO,KAAM,SAAQ,IAAI;QACrB,MAAM,CAAC,cAAc;YACjB,OAAO,oBAAY,CAAC,YAAY,CAAC;QACrC,CAAC;QAES,KAAK,CAAC,gBAAgB,CAAC,QAAuB;YACpD,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE;gBACrB,MAAM,KAAK,GAAQ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;gBAEvC,QAAQ,KAAK,CAAC,IAAI,EAAE;oBAChB,KAAK,GAAG;wBACJ,MAAM,IAAI,oCAAwB,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;oBAChE,KAAK,GAAG,CAAC;oBACT,KAAK,GAAG,CAAC;oBACT,KAAK,GAAG;wBACJ,MAAM,IAAI,uCAA2B,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;oBACnE;wBACI,MAAM,IAAI,0CAA8B,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;iBACzE;aACJ;QACL,CAAC;KACJ,CAAC;AACN,CAAC;AAvBD,4DAuBC","sourcesContent":["import type { AxiosResponse } from 'axios';\nimport { InvalidArgumentException, InvalidCredentialsException, InvalidServerResponseException } from '../../../../exception';\nimport { AccuracyEnum } from '../../../../model';\nimport type { AbstractCommand } from '../../../../command';\nimport type { Constructor } from '../../../../types';\n\nexport function ArcgisCommonCommandMixin<TBase extends Constructor<AbstractCommand>>(Base: TBase): TBase {\n    return class extends Base {\n        static getMaxAccuracy(): AccuracyEnum {\n            return AccuracyEnum.HOUSE_NUMBER;\n        }\n\n        protected async validateResponse(response: AxiosResponse): Promise<void> {\n            if (response.data.error) {\n                const error: any = response.data.error;\n\n                switch (error.code) {\n                    case 400:\n                        throw new InvalidArgumentException(error.message, response);\n                    case 403:\n                    case 498:\n                    case 499:\n                        throw new InvalidCredentialsException(error.message, response);\n                    default:\n                        throw new InvalidServerResponseException(error.message, response);\n                }\n            }\n        }\n    };\n}\n"]}