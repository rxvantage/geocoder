{"version":3,"file":"arcgis-location.transformer.js","sourceRoot":"","sources":["../../../../../src/provider/arcgis/transformer/arcgis-location.transformer.ts"],"names":[],"mappings":";;;AAAA,sDAAmE;AACnE,qDAAsD;AACtD,wDAAoD;AAGpD,MAAa,yBAA0B,SAAQ,yCAA2C;IACtF,YAAY,GAAQ;QAChB,KAAK,CAAC,gCAAc,EAAE,GAAG,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,mBAAmB;QACrB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,SAAS,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,WAAW;QACb,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,MAAM,IAAI,GAAuB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;QAC7D,MAAM,YAAY,GAA6B,MAAM,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpF,OAAO,YAAY,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,MAAM,IAAI,GAAuB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;QAC7D,MAAM,YAAY,GAA6B,MAAM,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpF,OAAO,YAAY,IAAI,YAAY,CAAC,IAAI,CAAC;IAC7C,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;IAC1C,CAAC;IAED,KAAK,CAAC,OAAO;QACT,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,aAAa;QACf,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,aAAa;QACf,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM;YAC7B,CAAC,CAAC,uBAAY,CAAC,+BAA+B,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;YACtG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;IAC7B,CAAC;CACJ;AA5DD,8DA4DC","sourcesContent":["import { AbstractLocationTransformer } from '../../../transformer';\nimport { LocationUtil } from '../../../util/location';\nimport { ArcgisProvider } from '../arcgis.provider';\nimport type { WorldCountry } from '../../../util/world-country';\n\nexport class ArcgisLocationTransformer extends AbstractLocationTransformer<ArcgisProvider> {\n    constructor(raw: any) {\n        super(ArcgisProvider, raw);\n    }\n\n    async getFormattedAddress(): Promise<string> {\n        return this.raw.attributes.LongLabel;\n    }\n\n    async getLatitude(): Promise<number> {\n        return this.raw.attributes.DisplayY;\n    }\n\n    async getLongitude(): Promise<number> {\n        return this.raw.attributes.DisplayX;\n    }\n\n    async getCountry(): Promise<string | undefined> {\n        const cca3: string | undefined = this.raw.attributes.Country;\n        const worldCountry: WorldCountry | undefined = await this.getWorldCountry({ cca3 });\n\n        return worldCountry && worldCountry.name.common;\n    }\n\n    async getCountryCode(): Promise<string | undefined> {\n        const cca3: string | undefined = this.raw.attributes.Country;\n        const worldCountry: WorldCountry | undefined = await this.getWorldCountry({ cca3 });\n\n        return worldCountry && worldCountry.cca2;\n    }\n\n    async getState(): Promise<string | undefined> {\n        return this.raw.attributes.Region;\n    }\n\n    async getStateCode(): Promise<string | undefined> {\n        return this.raw.attributes.RegionAbbr;\n    }\n\n    async getCity(): Promise<string | undefined> {\n        return this.raw.attributes.City;\n    }\n\n    async getPostalCode(): Promise<string | undefined> {\n        return this.raw.attributes.Postal;\n    }\n\n    async getStreetName(): Promise<string | undefined> {\n        return this.raw.attributes.AddNum\n            ? LocationUtil.removeHouseNumberFromStreetName(this.raw.attributes.StAddr, this.raw.attributes.AddNum)\n            : this.raw.attributes.StAddr;\n    }\n\n    async getHouseNumber(): Promise<string | undefined> {\n        return this.raw.attributes.AddNum;\n    }\n\n    async getPlaceId(): Promise<string> {\n        return this.raw.place_id;\n    }\n}\n"]}