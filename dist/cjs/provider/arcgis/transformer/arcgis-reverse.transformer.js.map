{"version":3,"file":"arcgis-reverse.transformer.js","sourceRoot":"","sources":["../../../../../src/provider/arcgis/transformer/arcgis-reverse.transformer.ts"],"names":[],"mappings":";;;AAAA,sDAAmE;AACnE,qDAAsD;AACtD,wDAAoD;AAGpD,MAAa,wBAAyB,SAAQ,yCAA2C;IACrF,YAAY,GAAQ;QAChB,KAAK,CAAC,gCAAc,EAAE,GAAG,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,mBAAmB;QACrB,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,WAAW;QACb,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,MAAM,IAAI,GAAuB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC;QAC9D,MAAM,YAAY,GAA6B,MAAM,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpF,OAAO,YAAY,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,MAAM,IAAI,GAAuB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC;QAC9D,MAAM,YAAY,GAA6B,MAAM,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpF,OAAO,YAAY,IAAI,YAAY,CAAC,IAAI,CAAC;IAC7C,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO;IACX,CAAC;IAED,KAAK,CAAC,OAAO;QACT,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IACjC,CAAC;IAED,KAAK,CAAC,aAAa;QACf,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,aAAa;QACf,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM;YAC1B,CAAC,CAAC,uBAAY,CAAC,+BAA+B,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;YACjG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,OAAO;IACX,CAAC;CACJ;AA5DD,4DA4DC","sourcesContent":["import { AbstractLocationTransformer } from '../../../transformer';\nimport { LocationUtil } from '../../../util/location';\nimport { ArcgisProvider } from '../arcgis.provider';\nimport type { WorldCountry } from '../../../util/world-country';\n\nexport class ArcgisReverseTransformer extends AbstractLocationTransformer<ArcgisProvider> {\n    constructor(raw: any) {\n        super(ArcgisProvider, raw);\n    }\n\n    async getFormattedAddress(): Promise<string> {\n        return this.raw.address.LongLabel;\n    }\n\n    async getLatitude(): Promise<number> {\n        return this.raw.location.y;\n    }\n\n    async getLongitude(): Promise<number> {\n        return this.raw.location.x;\n    }\n\n    async getCountry(): Promise<string | undefined> {\n        const cca3: string | undefined = this.raw.address.CountryCode;\n        const worldCountry: WorldCountry | undefined = await this.getWorldCountry({ cca3 });\n\n        return worldCountry && worldCountry.name.common;\n    }\n\n    async getCountryCode(): Promise<string | undefined> {\n        const cca3: string | undefined = this.raw.address.CountryCode;\n        const worldCountry: WorldCountry | undefined = await this.getWorldCountry({ cca3 });\n\n        return worldCountry && worldCountry.cca2;\n    }\n\n    async getState(): Promise<string | undefined> {\n        return this.raw.address.Region;\n    }\n\n    async getStateCode(): Promise<string | undefined> {\n        return;\n    }\n\n    async getCity(): Promise<string | undefined> {\n        return this.raw.address.City;\n    }\n\n    async getPostalCode(): Promise<string | undefined> {\n        return this.raw.address.Postal;\n    }\n\n    async getStreetName(): Promise<string | undefined> {\n        return this.raw.address.AddNum\n            ? LocationUtil.removeHouseNumberFromStreetName(this.raw.address.Address, this.raw.address.AddNum)\n            : this.raw.address.Address;\n    }\n\n    async getHouseNumber(): Promise<string | undefined> {\n        return this.raw.address.AddNum;\n    }\n\n    async getPlaceId(): Promise<string | undefined> {\n        return;\n    }\n}\n"]}