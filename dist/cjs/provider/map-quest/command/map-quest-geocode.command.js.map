{"version":3,"file":"map-quest-geocode.command.js","sourceRoot":"","sources":["../../../../../src/provider/map-quest/command/map-quest-geocode.command.ts"],"names":[],"mappings":";;;AACA,8CAAkD;AAGlD,mCAAqD;AAErD;;GAEG;AACH,MAAa,sBAAuB,SAAQ,IAAA,kCAA0B,EAAC,wBAAc,CAAgC;IACjH,YAAY,UAAyB,EAAmB,MAAc;QAClE,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAD0B,WAAM,GAAN,MAAM,CAAQ;IAEtE,CAAC;IAED,MAAM,CAAC,MAAM;QACT,OAAO,kDAAkD,CAAC;IAC9D,CAAC;IAES,KAAK,CAAC,UAAU,CAAC,KAAmB;QAC1C,MAAM,aAAa,GAAkC;YACjD,GAAG,EAAE,IAAI,CAAC,MAAM;YAChB,QAAQ,EAAE,KAAK,CAAC,OAAO;YACvB,UAAU,EAAE,KAAK,CAAC,KAAK;YACvB,SAAS,EAAE,KAAK;YAChB,SAAS,EAAE,MAAM;SACpB,CAAC;QAEF,IAAI,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,EAAE;YACxB,aAAa,CAAC,QAAQ,GAAG,GAAG,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,EAAE,CAAC;SACxD;QAED,OAAO,aAAa,CAAC;IACzB,CAAC;CACJ;AAxBD,wDAwBC","sourcesContent":["import type { AxiosInstance } from 'axios';\nimport { GeocodeCommand } from '../../../command';\nimport type { GeocodeQuery } from '../../../model';\nimport type { MapQuestGeocodeQueryInterface } from '../interface';\nimport { MapQuestCommonCommandMixin } from './mixin';\n\n/**\n * @link {https://developer.mapquest.com/documentation/geocoding-api/address/get/}\n */\nexport class MapQuestGeocodeCommand extends MapQuestCommonCommandMixin(GeocodeCommand)<MapQuestGeocodeQueryInterface> {\n    constructor(httpClient: AxiosInstance, private readonly apiKey: string) {\n        super(httpClient, apiKey);\n    }\n\n    static getUrl(): string {\n        return 'https://www.mapquestapi.com/geocoding/v1/address';\n    }\n\n    protected async buildQuery(query: GeocodeQuery): Promise<MapQuestGeocodeQueryInterface> {\n        const providerQuery: MapQuestGeocodeQueryInterface = {\n            key: this.apiKey,\n            location: query.address,\n            maxResults: query.limit,\n            thumbMaps: false,\n            outFormat: 'json',\n        };\n\n        if (query.lat && query.lon) {\n            providerQuery.location = `${query.lon},${query.lat}`;\n        }\n\n        return providerQuery;\n    }\n}\n"]}