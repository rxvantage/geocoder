{"version":3,"file":"place-details.command.js","sourceRoot":"","sources":["../../../src/command/place-details.command.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,cAAc,CAAC;AACjD,OAAO,EAAE,iBAAiB,EAAE,MAAM,UAAU,CAAC;AAI7C,OAAO,EAAE,uBAAuB,EAAE,MAAM,6BAA6B,CAAC;AAEtE,MAAM,OAAO,mBAA2E,SAAQ,uBAI/F;IACG,MAAM,CAAC,UAAU;QACb,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,KAAiC;QAC3C,MAAM,SAAS,GAAe,MAAM,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAEzD,SAAS,CAAC,GAAG,CAAC,CAAC,QAAkB,EAAE,EAAE;YACjC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACnB,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;aACpC;YAED,OAAO,QAAQ,CAAC;QACpB,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,MAAM,IAAI,iBAAiB,CAAC,gBAAgB,KAAK,CAAC,OAAO,aAAa,CAAC,CAAC;SAC3E;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAES,KAAK,CAAC,cAAc,CAC1B,IAA0B;QAE1B,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAC;IAC3E,CAAC;CACJ","sourcesContent":["import { NotFoundException } from '../exception';\nimport { PlaceDetailsQuery } from '../model';\nimport type { PlaceDetailsQueryInterface } from '../interface';\nimport type { Location } from '../model';\nimport type { AbstractLocationTransformer } from '../transformer';\nimport { AbstractLocationCommand } from './abstract-location.command';\n\nexport class PlaceDetailsCommand<ProviderRequestType = any, ProviderResponseType = any> extends AbstractLocationCommand<\n    PlaceDetailsQueryInterface,\n    ProviderRequestType,\n    ProviderResponseType\n> {\n    static queryClass(): typeof PlaceDetailsQuery {\n        return PlaceDetailsQuery;\n    }\n\n    async execute(query: PlaceDetailsQueryInterface): Promise<Location[]> {\n        const locations: Location[] = await super.execute(query);\n\n        locations.map((location: Location) => {\n            if (!location.placeId) {\n                location.placeId = query.placeId;\n            }\n\n            return location;\n        });\n\n        if (locations.length !== 1) {\n            throw new NotFoundException(`Place by id \"${query.placeId}\" not found`);\n        }\n\n        return locations;\n    }\n\n    protected async parseOneResult<ProviderRawEntryType = any, ProviderLocationTransformer extends AbstractLocationTransformer = any>(\n        _raw: ProviderRawEntryType,\n    ): Promise<ProviderLocationTransformer> {\n        throw new Error('PlaceDetailsCommand.parseOneResult: not implemented');\n    }\n}\n"]}