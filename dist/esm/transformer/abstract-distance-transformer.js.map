{"version":3,"file":"abstract-distance-transformer.js","sourceRoot":"","sources":["../../../src/transformer/abstract-distance-transformer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAEpD,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAG7C,OAAO,EAAE,mBAAmB,EAAE,MAAM,wBAAwB,CAAC;AAE7D,MAAM,OAAgB,2BAA8G,SAAQ,mBAG3I;IAIG,KAAK,CAAC,SAAS,CAAC,OAA+B;QAC3C,MAAM,QAAQ,GAAa,IAAI,QAAQ,EAAwB,CAAC;QAEhE,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAClC,QAAQ,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAC7C,QAAQ,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAC7C,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QAExB,OAAO,eAAe,CAAiF,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IACxI,CAAC;CACJ","sourcesContent":["import { plainToInstance } from 'class-transformer';\nimport type { ClassTransformOptions } from 'class-transformer';\nimport { Distance } from '../model/distance';\nimport type { DistanceDetailsInterface } from '../interface';\nimport type { AbstractHttpProvider } from '../model';\nimport { AbstractTransformer } from './abstract-transformer';\n\nexport abstract class AbstractDistanceTransformer<HttpProviderClass extends AbstractHttpProvider = any, ProviderRawEntryType = any> extends AbstractTransformer<\n    HttpProviderClass,\n    ProviderRawEntryType\n> {\n    abstract getDistance(): Promise<DistanceDetailsInterface['distance']>;\n    abstract getDuration(): Promise<DistanceDetailsInterface['duration']>;\n\n    async transform(options?: ClassTransformOptions): Promise<Distance<ProviderRawEntryType>> {\n        const distance: Distance = new Distance<ProviderRawEntryType>();\n\n        distance.provider = this.provider;\n        distance.distance = await this.getDistance();\n        distance.duration = await this.getDuration();\n        distance.raw = this.raw;\n\n        return plainToInstance<Distance<ProviderRawEntryType>, DistanceDetailsInterface<ProviderRawEntryType>>(Distance, distance, options);\n    }\n}\n"]}